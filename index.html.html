<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Reel Pack Generator (Offline)</title>
  <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  <style>
    body {
      background: #f2f3f7;
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    .container {
      max-width: 430px;
      margin: 40px auto;
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 4px 24px rgba(0,0,0,0.09), 0 1.5px 4px rgba(0,0,0,0.06);
      padding: 0 0 32px 0;
      overflow: hidden;
    }
    .header {
      background: #2d3e50;
      color: #fff;
      padding: 24px 32px 18px 32px;
      font-size: 1.6rem;
      font-weight: 600;
      letter-spacing: 1px;
      text-align: center;
      border-bottom: 1px solid #e5e7eb;
    }
    .content {
      padding: 28px 32px 0 32px;
    }
    textarea {
      width: 100%;
      min-height: 120px;
      max-height: 220px;
      padding: 14px;
      font-size: 1rem;
      border: 1.5px solid #d1d5db;
      border-radius: 10px;
      resize: vertical;
      margin-bottom: 18px;
      background: #f9fafb;
      transition: border 0.2s;
    }
    textarea:focus {
      outline: none;
      border-color: #3b82f6;
      background: #fff;
    }
    button {
      width: 100%;
      padding: 13px 0;
      font-size: 1.08rem;
      font-weight: 600;
      color: #fff;
      background: linear-gradient(90deg, #3b82f6 60%, #2563eb 100%);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(59,130,246,0.08);
      transition: background 0.2s, box-shadow 0.2s;
      margin-bottom: 10px;
    }
    button:hover {
      background: linear-gradient(90deg, #2563eb 60%, #3b82f6 100%);
      box-shadow: 0 4px 16px rgba(59,130,246,0.13);
    }
    pre {
      white-space: pre-wrap;
      margin-top: 18px;
      background: #f4f6fa;
      padding: 18px 14px;
      border-radius: 10px;
      font-size: 1rem;
      color: #222;
      border: 1px solid #e5e7eb;
      box-shadow: 0 1px 4px rgba(0,0,0,0.03);
    }
    .ad-banner {
      display: none;
    }
    .ad-banner a {
      color: #a16207;
      text-decoration: underline;
      font-weight: 600;
    }
    @media (max-width: 500px) {
      .container {
        margin: 0;
        border-radius: 0;
        box-shadow: none;
        max-width: 100vw;
      }
      .header, .content {
        padding-left: 12px;
        padding-right: 12px;
      }
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">

    function CopyButton({ text }) {
      const [copied, setCopied] = React.useState(false);

      const handleCopy = async () => {
        try {
          await navigator.clipboard.writeText(text);
          setCopied(true);
          setTimeout(() => setCopied(false), 1200);
        } catch (e) {
          setCopied(false);
        }
      };

      return (
        <button
          style={{
            margin: '6px 8px 14px 0',
            padding: '6px 16px',
            fontSize: '0.98rem',
            borderRadius: '6px',
            border: '1px solid #d1d5db',
            background: copied ? '#d1fae5' : '#f3f4f6',
            color: '#222',
            cursor: 'pointer',
            float: 'right'
          }}
          onClick={handleCopy}
        >
          {copied ? 'Copied!' : 'Copy'}
        </button>
      );
    }

    function extractMainKeywords(text, count = 2) {
      const stopwords = [
        "the","and","for","that","with","this","from","your","about","have","will","just","what","when","where","which","while","would","could","should","there","their","them","then","than","been","into","over","such","some","more","most","very","here","also","can","are","was","were","has","had","but","not","you","all","any","our","out","how","why","who","his","her","she","him","its","it's","on","in","to","of","a","an","is","it","as","by","at","be","or","if","we","do","so","up","no"
      ];
      const words = text
        .toLowerCase()
        .replace(/[^a-z0-9\s]/g, "")
        .split(/\s+/)
        .filter(w => w.length > 2 && !stopwords.includes(w));
      const freq = {};
      words.forEach(w => freq[w] = (freq[w] || 0) + 1);
      return Object.entries(freq)
        .sort((a, b) => b[1] - a[1])
        .slice(0, count)
        .map(([w]) => w);
    }

    function ReelPackGenerator() {
      const [inputText, setInputText] = React.useState('');
      const [result, setResult] = React.useState(null);

      // Generate titles based on main keywords and context
      const createTitles = (text) => {
        const keywords = extractMainKeywords(text, 2);
        const [main, secondary] = keywords.length ? keywords : ["Reel", "Tips"];
        const templates = [
          `How to ${main.charAt(0).toUpperCase() + main.slice(1)}: ${secondary ? secondary.charAt(0).toUpperCase() + secondary.slice(1) : ""} Guide`,
          `Top Tips for ${main.charAt(0).toUpperCase() + main.slice(1)} (${secondary ? secondary.charAt(0).toUpperCase() + secondary.slice(1) : ""})`,
          `Unlocking the Power of ${main.charAt(0).toUpperCase() + main.slice(1)} in Your Reels`,
          `Boost Your ${main.charAt(0).toUpperCase() + main.slice(1)}: Proven Strategies`,
          `${main.charAt(0).toUpperCase() + main.slice(1)} Mistakes to Avoid for Better Results`
        ];
        // Pick 3 unique titles
        const shuffled = templates.sort(() => 0.5 - Math.random());
        return shuffled.slice(0, 3);
      };

      // More functional summary: concise, value-driven, and topic-focused
      const createSummary = (text) => {
        if (!text.trim()) return '';
        const keywords = extractMainKeywords(text, 2);
        const [main, secondary] = keywords.length ? keywords : ["your topic", ""];
        // Try to find a value statement or benefit in the text
        const sentences = text.split('.').map(s => s.trim()).filter(Boolean);
        let summary = "";
        if (sentences.length > 1) {
          summary = `${sentences[0]}. ${sentences[1]}.`;
        } else if (sentences.length === 1) {
          summary = sentences[0] + ".";
        } else {
          summary = `Learn about ${main}${secondary ? " and " + secondary : ""} in this reel.`;
        }
        // Add a benefit or actionable phrase
        const benefits = [
          `Discover practical ways to improve your ${main}.`,
          `Get actionable insights for better ${main}${secondary ? " and " + secondary : ""}.`,
          `Start mastering ${main} today with these tips.`,
          `Transform your approach to ${main} for real results.`,
          `Unlock the secrets to successful ${main}.`
        ];
        const rand = arr => arr[Math.floor(Math.random() * arr.length)];
        return `${summary}\n${rand(benefits)}`;
      };

      // More functional caption: includes hook, benefit, and CTA
      const createCaption = (summary, inputText) => {
        const keywords = extractMainKeywords(inputText, 2);
        const [main, secondary] = keywords.length ? keywords : ["this", ""];
        const hooks = [
          `Struggling with ${main}?`,
          `Want to master ${main}${secondary ? " and " + secondary : ""}?`,
          `Here's how to boost your ${main}!`,
          `Don't miss these ${main} tips!`,
          `Ready to level up your ${main}?`
        ];
        const ctas = [
          "Save this reel for later! 🔖",
          "Share with a friend who needs this! 🤝",
          "Follow for more actionable tips! 🚀",
          "Comment your thoughts below! 💬",
          "Try these tips and let us know your results! 🌟"
        ];
        const rand = arr => arr[Math.floor(Math.random() * arr.length)];
        return `✨ ${rand(hooks)}\n${summary.split('\n')[0]}\n${rand(ctas)}`;
      };

      const createHashtags = (text) => {
        const words = [...new Set(text.toLowerCase().match(/\b\w+\b/g))];
        return words.slice(0, 10).map(w => `#${w}`).join(' ');
      };

      const createBGM = () => ["Upbeat Pop", "Motivational Beat", "Chill Vibes"];

      const createThumbnailPrompts = (title, inputText) => {
        const keywords = extractMainKeywords(inputText, 2);
        const [main, secondary] = keywords.length ? keywords : ["your topic", ""];
        return [
          `A bold, colorful thumbnail with the phrase "${title}" and visual elements representing "${main}${secondary ? " and " + secondary : ""}".`,
          `Minimalist design: "${title}" in large font, with icons or graphics related to "${main}".`,
          `A person expressing excitement, with "${title}" as overlay text and background hints of "${main}".`
        ];
      };

      const handleGenerate = () => {
        if (!inputText.trim()) return;

        const summary = createSummary(inputText);
        const titles = createTitles(inputText);
        const caption = createCaption(summary, inputText);
        const hashtags = createHashtags(inputText);
        const bgm = createBGM();
        const thumbnailPrompts = createThumbnailPrompts(titles[0], inputText);

        setResult({
          titles,
          summary,
          caption,
          hashtags,
          bgm,
          thumbnailPrompts
        });
      };

      return (
        <div className="container">
          <div className="header">🎬 Reel Pack Generator</div>
          <div className="content">
            <textarea
              placeholder="Paste your reel script or idea here..."
              value={inputText}
              onChange={(e) => setInputText(e.target.value)}
            />
            <button onClick={handleGenerate}>Create Reel Pack</button>
            {result && (
              <div>
                <div style={{marginTop: '18px', marginBottom: '6px', fontWeight: 600}}>🎯 Titles:</div>
                <div style={{overflow: 'hidden'}}>
                  <CopyButton text={result.titles.join('\n')} />
                </div>
                <pre style={{marginTop: '0'}}>{result.titles.map((t, i) => `${i+1}. ${t}`).join('\n')}</pre>

                <div style={{marginTop: '18px', marginBottom: '6px', fontWeight: 600}}>📜 Summary:</div>
                <div style={{overflow: 'hidden'}}>
                  <CopyButton text={result.summary} />
                </div>
                <pre style={{marginTop: '0'}}>{result.summary}</pre>

                <div style={{marginTop: '18px', marginBottom: '6px', fontWeight: 600}}>✏️ Caption:</div>
                <div style={{overflow: 'hidden'}}>
                  <CopyButton text={result.caption} />
                </div>
                <pre style={{marginTop: '0'}}>{result.caption}</pre>

                <div style={{marginTop: '18px', marginBottom: '6px', fontWeight: 600}}>#️⃣ Hashtags:</div>
                <div style={{overflow: 'hidden'}}>
                  <CopyButton text={result.hashtags} />
                </div>
                <pre style={{marginTop: '0'}}>{result.hashtags}</pre>

                <div style={{marginTop: '18px', marginBottom: '6px', fontWeight: 600}}>🎵 BGM Suggestions:</div>
                <div style={{overflow: 'hidden'}}>
                  <CopyButton text={result.bgm.join(', ')} />
                </div>
                <pre style={{marginTop: '0'}}>{result.bgm.join(', ')}</pre>

                <div style={{marginTop: '18px', marginBottom: '6px', fontWeight: 600}}>🖼️ Thumbnail Prompts:</div>
                <div style={{overflow: 'hidden'}}>
                  <CopyButton text={result.thumbnailPrompts.join('\n')} />
                </div>
                <pre style={{marginTop: '0'}}>{result.thumbnailPrompts.map((t, i) => `- ${t}`).join('\n')}</pre>
              </div>
            )}
          </div>
        </div>
      );
    }

    ReactDOM.render(<ReelPackGenerator />, document.getElementById('root'));

  </script>
</body>
</html>
